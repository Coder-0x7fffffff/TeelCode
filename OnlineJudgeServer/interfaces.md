# OJ接口 v0.1

返回值为**json**数据，输入参数中**加粗为必填参数**，*斜线为可选参数*

## 登陆相关

### 登陆(Login)

#### 输入

| 参数    | 类型   | 说明     |
| ------- | ------ | -------- |
| **id**  | 字符串 | 用户id   |
| **pwd** | 字符串 | 用户密码 |

#### 返回值

| 参数   | 类型     | 说明         |
| ------ | -------- | ------------ |
| result | 布尔类型 | 登陆是否成功 |

### 注册(Register)

#### 输入

| 参数    | 类型   | 说明     |
| ------- | ------ | -------- |
| **id**  | 字符串 | 用户id   |
| **pwd** | 字符串 | 用户密码 |
| **problem**  | 字符串 | 安全问题   |
| **answer** | 字符串 | 问题答案 |

#### 返回值

| 参数   | 类型     | 说明         |
| ------ | -------- | ------------ |
| result | 布尔类型 | 注册是否成功 |

## 用户相关

### 创建用户(NewUser)

#### 输入

| 参数     | 类型        | 说明     |
| -------- | ----------- | -------- |
| **id**   | 字符串      | 用户id   |
| **name** | 字符串      | 用户昵称 |
| *sex*    | 整型        | 用户性别 |
| *dscp*   | 字符串/文本 | 用户描述 |

#### 返回值

| 参数   | 类型     | 说明         |
| ------ | -------- | ------------ |
| result | 布尔类型 | 创建是否成功 |

###  更新用户信息(UpdateUser)

#### 输入

| 参数   | 类型        | 说明     |
| ------ | ----------- | -------- |
| **id** | 字符串      | 用户id   |
| *name* | 字符串      | 用户昵称 |
| *sex*  | 整型        | 用户性别 |
| *dscp* | 字符串/文本 | 用户描述 |
| *isAdmin* | 布尔类型 | 用户描述 |

#### 返回值

| 参数   | 类型     | 说明         |
| ------ | -------- | ------------ |
| result | 布尔类型 | 修改是否成功 |

## 题目相关

### 获取题目列表(All)

#### 输入

| 参数       | 类型 | 说明            |
| ---------- | ---- | --------------- |
| **page**   | 整型 | 第几页(从1开始) |
| **offset** | 整型 | 页大小          |

#### 返回值

| 参数   | 类型     | 说明             |
| ------ | -------- | ---------------- |
| result | 题目数组 | 获取到的题目数组 |

##### 数组结构说明

每个元素都包含Problem和Classification两个字段(Classification可能为空,这意味着这个题目没有分类)

{ Problem:{pid,pname,pdifficulty,ppass,psubmit,pdscp,pinputs,poutputs}, classification:{cid,cname} }

字段具体含义同数据库表中字段

### 添加题目(AddProblem)

| 参数    |   类型   |  说明    |
| ---- | ---- | ---- |
| **id** | 整型 | 题目编号 |
| **name** | 字符串 | 题目名称 |
| **difficulty** | 整型 | 题目难度 |
| **dscp** | 字符串 | 题目描述 |
| **inputs** | 字符串 | 题目输入 |
| **outputs** | 字符串 | 题目输出 |
| **classification** | 字符串 | 题目分类 |

##### 题目分类说明

各个分类之间用英文逗号隔开,比如 链表,数组,...,树

#### 返回值

| 参数   | 类型   | 说明         |
| ------ | ------ | ------------ |
| result | 布尔型 | 添加是否成功 |

### 添加分类(AddClassification)

#### 输入

| 参数     | 类型   | 说明         |
| -------- | ------ | ------------ |
| **id**   | 整型   | 该分类的编号 |
| **name** | 字符串 | 该分类的名词 |

#### 返回值

| 参数   | 类型   | 说明         |
| ------ | ------ | ------------ |
| result | 布尔型 | 添加是否成功 |